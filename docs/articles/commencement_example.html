<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="receptiviti">
<title>Commencement Example • receptiviti</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Commencement Example">
<meta property="og:description" content="receptiviti">
<meta property="og:image" content="https://receptiviti.github.io/receptiviti-r/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">receptiviti</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../articles/receptiviti.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/commencement_example.html">Commencement Example</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/Receptiviti/receptiviti-r/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Commencement Example</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/Receptiviti/receptiviti-r/blob/HEAD/vignettes/commencement_example.Rmd" class="external-link"><code>vignettes/commencement_example.Rmd</code></a></small>
      <div class="d-none name"><code>commencement_example.Rmd</code></div>
    </div>

    
    
<p><em>Built with R 4.2.1</em></p>
<hr>
<style type="text/css">
.table th, .table td {padding: .5rem}
</style>
<p>This example uses the <code>receptiviti</code> package to take an
initial, exploratory look at a set of texts.</p>
<div class="section level2">
<h2 id="setup">Setup<a class="anchor" aria-label="anchor" href="#setup"></a>
</h2>
<p>First, we need to load some example data and the package.</p>
<div class="section level3">
<h3 id="load-data">Load Data<a class="anchor" aria-label="anchor" href="#load-data"></a>
</h3>
<p>We’ll be looking at text from commencement speeches given at various
schools between 2000 and 2015, which we’ll load from the tutorial
repository:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">speeches</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span></span>
<span>  <span class="st">"https://raw.githubusercontent.com/Receptiviti/"</span>,</span>
<span>  <span class="st">"api_tutorials_demos/main/data/commencement_speeches.csv"</span></span>
<span><span class="op">)</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://yihui.org/knitr/" class="external-link">knitr</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="va">speeches</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, <span class="fl">2</span><span class="op">:</span><span class="fl">4</span><span class="op">]</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">person</th>
<th align="left">location</th>
<th align="right">year</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Guy Kawasaki</td>
<td align="left">Babson College</td>
<td align="right">2000</td>
</tr>
<tr class="even">
<td align="left">Lewis Lapham</td>
<td align="left">St. John’s College</td>
<td align="right">2003</td>
</tr>
<tr class="odd">
<td align="left">Margaret Spellings</td>
<td align="left">Montgomery College</td>
<td align="right">2006</td>
</tr>
<tr class="even">
<td align="left">Angela Ahrendts</td>
<td align="left">Ball State University</td>
<td align="right">2008</td>
</tr>
<tr class="odd">
<td align="left">Rachel Maddow</td>
<td align="left">Smith College</td>
<td align="right">2010</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="load-package">Load Package<a class="anchor" aria-label="anchor" href="#load-package"></a>
</h3>
<p>If this is your first time using the package, see the <a href="https://receptiviti.github.io/receptiviti-r/articles/receptiviti.html">Get
Started</a> guide to install it and set up your API credentials.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://receptiviti.github.io/receptiviti-r/">receptiviti</a></span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="process-text">Process Text<a class="anchor" aria-label="anchor" href="#process-text"></a>
</h2>
<p>Now we can send our texts to the API to be scored.</p>
<p>For this example, we’ll just look at the Linguistic Inquiry and Word
Count (LIWC) framework, along with the standard summary variables:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">processed</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/receptiviti.html">receptiviti</a></span><span class="op">(</span></span>
<span>  <span class="va">speeches</span><span class="op">$</span><span class="va">text_to_score</span>,</span>
<span>  frameworks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"summary"</span>, <span class="st">"liwc"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="va">processed</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, <span class="fl">2</span><span class="op">:</span><span class="fl">51</span><span class="op">]</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="2%">
<col width="3%">
<col width="2%">
<col width="2%">
<col width="1%">
<col width="1%">
<col width="2%">
<col width="1%">
<col width="1%">
<col width="2%">
<col width="1%">
<col width="1%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="1%">
<col width="2%">
<col width="1%">
<col width="1%">
<col width="1%">
<col width="1%">
<col width="1%">
<col width="2%">
<col width="1%">
<col width="2%">
<col width="2%">
<col width="1%">
<col width="2%">
<col width="1%">
<col width="2%">
<col width="1%">
<col width="1%">
<col width="1%">
<col width="2%">
<col width="1%">
<col width="1%">
<col width="2%">
<col width="3%">
<col width="3%">
<col width="2%">
<col width="1%">
<col width="1%">
<col width="2%">
<col width="1%">
<col width="1%">
<col width="1%">
<col width="1%">
<col width="2%">
<col width="1%">
</colgroup>
<thead><tr class="header">
<th align="right">summary.word_count</th>
<th align="right">summary.words_per_sentence</th>
<th align="right">summary.sentence_count</th>
<th align="right">summary.six_plus_words</th>
<th align="right">summary.capitals</th>
<th align="right">summary.emojis</th>
<th align="right">summary.emoticons</th>
<th align="right">summary.hashtags</th>
<th align="right">summary.urls</th>
<th align="right">liwc.analytical_thinking</th>
<th align="right">liwc.clout</th>
<th align="right">liwc.authentic</th>
<th align="right">liwc.emotional_tone</th>
<th align="right">liwc.six_plus_words</th>
<th align="right">liwc.dictionary_words</th>
<th align="right">liwc.function_words</th>
<th align="right">liwc.pronouns</th>
<th align="right">liwc.personal_pronouns</th>
<th align="right">liwc.i</th>
<th align="right">liwc.we</th>
<th align="right">liwc.you</th>
<th align="right">liwc.she_he</th>
<th align="right">liwc.they</th>
<th align="right">liwc.impersonal_pronouns</th>
<th align="right">liwc.articles</th>
<th align="right">liwc.prepositions</th>
<th align="right">liwc.auxiliary_verbs</th>
<th align="right">liwc.adverbs</th>
<th align="right">liwc.conjunctions</th>
<th align="right">liwc.negations</th>
<th align="right">liwc.other_grammar</th>
<th align="right">liwc.verbs</th>
<th align="right">liwc.adjectives</th>
<th align="right">liwc.comparisons</th>
<th align="right">liwc.interrogatives</th>
<th align="right">liwc.numbers</th>
<th align="right">liwc.quantifiers</th>
<th align="right">liwc.affective_processes</th>
<th align="right">liwc.positive_emotion_words</th>
<th align="right">liwc.negative_emotion_words</th>
<th align="right">liwc.anxiety_words</th>
<th align="right">liwc.anger_words</th>
<th align="right">liwc.sad_words</th>
<th align="right">liwc.social_processes</th>
<th align="right">liwc.family</th>
<th align="right">liwc.friends</th>
<th align="right">liwc.female</th>
<th align="right">liwc.male</th>
<th align="right">liwc.cognitive_processes</th>
<th align="right">liwc.insight</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">2159</td>
<td align="right">11.48404</td>
<td align="right">188</td>
<td align="right">0.2440945</td>
<td align="right">0.0271289</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0.0092635</td>
<td align="right">0</td>
<td align="right">0.4845305</td>
<td align="right">0.7593843</td>
<td align="right">0.4557364</td>
<td align="right">0.8563083</td>
<td align="right">0.2440945</td>
<td align="right">0.9198703</td>
<td align="right">0.5215377</td>
<td align="right">0.1584067</td>
<td align="right">0.1106994</td>
<td align="right">0.0407596</td>
<td align="right">0.0009264</td>
<td align="right">0.0523390</td>
<td align="right">0.0101899</td>
<td align="right">0.0064845</td>
<td align="right">0.0477073</td>
<td align="right">0.0620658</td>
<td align="right">0.1171839</td>
<td align="right">0.0940250</td>
<td align="right">0.0467809</td>
<td align="right">0.0713293</td>
<td align="right">0.0236220</td>
<td align="right">0.2867068</td>
<td align="right">0.1746179</td>
<td align="right">0.0574340</td>
<td align="right">0.0338119</td>
<td align="right">0.0152849</td>
<td align="right">0.0273275</td>
<td align="right">0.0185271</td>
<td align="right">0.0694766</td>
<td align="right">0.0518759</td>
<td align="right">0.0176007</td>
<td align="right">0.0013895</td>
<td align="right">0.0050950</td>
<td align="right">0.0027791</td>
<td align="right">0.1162575</td>
<td align="right">0.0115794</td>
<td align="right">0.0050950</td>
<td align="right">0.0088004</td>
<td align="right">0.0050950</td>
<td align="right">0.1306160</td>
<td align="right">0.0305697</td>
</tr>
<tr class="even">
<td align="right">3688</td>
<td align="right">35.80583</td>
<td align="right">103</td>
<td align="right">0.2817245</td>
<td align="right">0.0220627</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0.0000000</td>
<td align="right">0</td>
<td align="right">0.9546208</td>
<td align="right">0.6347539</td>
<td align="right">0.2913835</td>
<td align="right">0.3373133</td>
<td align="right">0.2817245</td>
<td align="right">0.8256508</td>
<td align="right">0.5168113</td>
<td align="right">0.0995119</td>
<td align="right">0.0515184</td>
<td align="right">0.0130152</td>
<td align="right">0.0065076</td>
<td align="right">0.0073210</td>
<td align="right">0.0159978</td>
<td align="right">0.0086768</td>
<td align="right">0.0479935</td>
<td align="right">0.1117137</td>
<td align="right">0.1784165</td>
<td align="right">0.0436551</td>
<td align="right">0.0314534</td>
<td align="right">0.0721258</td>
<td align="right">0.0157267</td>
<td align="right">0.2001085</td>
<td align="right">0.0970716</td>
<td align="right">0.0569414</td>
<td align="right">0.0333514</td>
<td align="right">0.0154555</td>
<td align="right">0.0173536</td>
<td align="right">0.0184382</td>
<td align="right">0.0490781</td>
<td align="right">0.0265727</td>
<td align="right">0.0219631</td>
<td align="right">0.0043384</td>
<td align="right">0.0048807</td>
<td align="right">0.0048807</td>
<td align="right">0.0840564</td>
<td align="right">0.0002711</td>
<td align="right">0.0002711</td>
<td align="right">0.0018980</td>
<td align="right">0.0184382</td>
<td align="right">0.1111714</td>
<td align="right">0.0292842</td>
</tr>
<tr class="odd">
<td align="right">2076</td>
<td align="right">15.26471</td>
<td align="right">136</td>
<td align="right">0.2456647</td>
<td align="right">0.0315047</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0.0000000</td>
<td align="right">0</td>
<td align="right">0.5628012</td>
<td align="right">0.8347563</td>
<td align="right">0.5607432</td>
<td align="right">0.7796976</td>
<td align="right">0.2456647</td>
<td align="right">0.9123314</td>
<td align="right">0.5183044</td>
<td align="right">0.1599229</td>
<td align="right">0.1218690</td>
<td align="right">0.0467245</td>
<td align="right">0.0077071</td>
<td align="right">0.0491329</td>
<td align="right">0.0134875</td>
<td align="right">0.0048170</td>
<td align="right">0.0380539</td>
<td align="right">0.0534682</td>
<td align="right">0.1377649</td>
<td align="right">0.0900771</td>
<td align="right">0.0472062</td>
<td align="right">0.0650289</td>
<td align="right">0.0163776</td>
<td align="right">0.2721580</td>
<td align="right">0.1734104</td>
<td align="right">0.0452794</td>
<td align="right">0.0274566</td>
<td align="right">0.0168593</td>
<td align="right">0.0158960</td>
<td align="right">0.0240848</td>
<td align="right">0.0419075</td>
<td align="right">0.0346821</td>
<td align="right">0.0062620</td>
<td align="right">0.0014451</td>
<td align="right">0.0019268</td>
<td align="right">0.0009634</td>
<td align="right">0.1286127</td>
<td align="right">0.0081888</td>
<td align="right">0.0009634</td>
<td align="right">0.0183044</td>
<td align="right">0.0028902</td>
<td align="right">0.1156069</td>
<td align="right">0.0250482</td>
</tr>
<tr class="even">
<td align="right">3463</td>
<td align="right">20.49112</td>
<td align="right">169</td>
<td align="right">0.2723072</td>
<td align="right">0.0261630</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0.0000000</td>
<td align="right">0</td>
<td align="right">0.5717216</td>
<td align="right">0.8650195</td>
<td align="right">0.5851801</td>
<td align="right">0.9029114</td>
<td align="right">0.2723072</td>
<td align="right">0.8925787</td>
<td align="right">0.5163153</td>
<td align="right">0.1657522</td>
<td align="right">0.1169506</td>
<td align="right">0.0427375</td>
<td align="right">0.0112619</td>
<td align="right">0.0502455</td>
<td align="right">0.0028877</td>
<td align="right">0.0098181</td>
<td align="right">0.0488016</td>
<td align="right">0.0603523</td>
<td align="right">0.1224372</td>
<td align="right">0.0794109</td>
<td align="right">0.0410049</td>
<td align="right">0.0698816</td>
<td align="right">0.0109731</td>
<td align="right">0.2492059</td>
<td align="right">0.1518914</td>
<td align="right">0.0563096</td>
<td align="right">0.0265666</td>
<td align="right">0.0153046</td>
<td align="right">0.0135720</td>
<td align="right">0.0190586</td>
<td align="right">0.0615074</td>
<td align="right">0.0502455</td>
<td align="right">0.0112619</td>
<td align="right">0.0043315</td>
<td align="right">0.0020214</td>
<td align="right">0.0014438</td>
<td align="right">0.1273462</td>
<td align="right">0.0051978</td>
<td align="right">0.0011551</td>
<td align="right">0.0040427</td>
<td align="right">0.0046203</td>
<td align="right">0.1123303</td>
<td align="right">0.0358071</td>
</tr>
<tr class="odd">
<td align="right">2487</td>
<td align="right">21.81579</td>
<td align="right">114</td>
<td align="right">0.2830720</td>
<td align="right">0.0213356</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0.0000000</td>
<td align="right">0</td>
<td align="right">0.7257801</td>
<td align="right">0.8530584</td>
<td align="right">0.1537049</td>
<td align="right">0.6312010</td>
<td align="right">0.2830720</td>
<td align="right">0.8809811</td>
<td align="right">0.5166868</td>
<td align="right">0.1391234</td>
<td align="right">0.0755931</td>
<td align="right">0.0072376</td>
<td align="right">0.0044230</td>
<td align="right">0.0353840</td>
<td align="right">0.0205066</td>
<td align="right">0.0080418</td>
<td align="right">0.0635304</td>
<td align="right">0.0776035</td>
<td align="right">0.1375151</td>
<td align="right">0.0836349</td>
<td align="right">0.0470446</td>
<td align="right">0.0619220</td>
<td align="right">0.0088460</td>
<td align="right">0.2517089</td>
<td align="right">0.1572175</td>
<td align="right">0.0478488</td>
<td align="right">0.0213108</td>
<td align="right">0.0140732</td>
<td align="right">0.0160836</td>
<td align="right">0.0172899</td>
<td align="right">0.0607157</td>
<td align="right">0.0377965</td>
<td align="right">0.0180941</td>
<td align="right">0.0024125</td>
<td align="right">0.0076397</td>
<td align="right">0.0036188</td>
<td align="right">0.1093687</td>
<td align="right">0.0036188</td>
<td align="right">0.0016084</td>
<td align="right">0.0176920</td>
<td align="right">0.0064335</td>
<td align="right">0.1009248</td>
<td align="right">0.0237234</td>
</tr>
</tbody>
</table>
<p>All of the frameworks are returned from the API and stored in your
cache, so you can request different frameworks for the same texts
without reprocessing them.</p>
<p>This returns a <code>data.frame</code> that is aligned with your
original input, so you can add it to the original data:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">speeches</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="va">speeches</span>, <span class="va">processed</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="analyze-scores">Analyze Scores<a class="anchor" aria-label="anchor" href="#analyze-scores"></a>
</h2>
<p>One question we might ask is how speech styles have changed over
time. To get at this, we might look for trends in language style
categories:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># identify the language style categories</span></span>
<span><span class="va">style_columns</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"liwc."</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>  <span class="st">"personal_pronouns"</span>, <span class="st">"impersonal_pronouns"</span>, <span class="st">"articles"</span>, <span class="st">"auxiliary_verbs"</span>,</span>
<span>  <span class="st">"adverbs"</span>, <span class="st">"prepositions"</span>, <span class="st">"conjunctions"</span>, <span class="st">"negations"</span>, <span class="st">"quantifiers"</span></span>
<span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># calculate Pearson's r between each category and the year</span></span>
<span><span class="va">style_trends</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/cor.html" class="external-link">cor</a></span><span class="op">(</span><span class="va">speeches</span><span class="op">[</span>, <span class="va">style_columns</span><span class="op">]</span>, <span class="va">speeches</span><span class="op">$</span><span class="va">year</span><span class="op">)</span><span class="op">[</span>, <span class="fl">1</span><span class="op">]</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  <span class="st">"Correlation with Year"</span> <span class="op">=</span> <span class="va">style_trends</span>, check.names <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left"></th>
<th align="right">Correlation with Year</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">liwc.personal_pronouns</td>
<td align="right">-0.0033174</td>
</tr>
<tr class="even">
<td align="left">liwc.impersonal_pronouns</td>
<td align="right">0.0886129</td>
</tr>
<tr class="odd">
<td align="left">liwc.articles</td>
<td align="right">-0.1472753</td>
</tr>
<tr class="even">
<td align="left">liwc.auxiliary_verbs</td>
<td align="right">0.0647079</td>
</tr>
<tr class="odd">
<td align="left">liwc.adverbs</td>
<td align="right">0.1164321</td>
</tr>
<tr class="even">
<td align="left">liwc.prepositions</td>
<td align="right">-0.0502796</td>
</tr>
<tr class="odd">
<td align="left">liwc.conjunctions</td>
<td align="right">-0.0410184</td>
</tr>
<tr class="even">
<td align="left">liwc.negations</td>
<td align="right">-0.0401881</td>
</tr>
<tr class="odd">
<td align="left">liwc.quantifiers</td>
<td align="right">0.0750854</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://miserman.github.io/splot/" class="external-link">splot</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/splot/man/splot.html" class="external-link">splot</a></span><span class="op">(</span></span>
<span>  <span class="va">speeches</span><span class="op">[</span>, <span class="va">style_columns</span><span class="op">]</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">year</span><span class="op">)</span>, <span class="va">speeches</span>,</span>
<span>  title <span class="op">=</span> <span class="cn">FALSE</span>, laby <span class="op">=</span> <span class="st">"Proportion of Words"</span>, labx <span class="op">=</span> <span class="st">"Year"</span>,</span>
<span>  xlas <span class="op">=</span> <span class="fl">2</span>, mar <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3</span>, <span class="fl">3</span>, <span class="fl">0</span>, <span class="fl">0</span><span class="op">)</span>, prat <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">.3</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="commencement_example_files/figure-html/unnamed-chunk-8-1.svg" width="848.64"></p>
<p>There are no extreme trends, but there seems to be some general
decrease in the use of articles, and increase in the use of adverbs.</p>
<p>These categories are sometimes associate with more narrative or
dynamic, less analytic styles, though the trend is weaker in the
analytical thinking composite:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/splot/man/splot.html" class="external-link">splot</a></span><span class="op">(</span></span>
<span>  <span class="va">liwc.analytical_thinking</span> <span class="op">~</span> <span class="va">year</span>, <span class="va">speeches</span>,</span>
<span>  model <span class="op">=</span> <span class="cn">TRUE</span>, title <span class="op">=</span> <span class="cn">FALSE</span>, laby <span class="op">=</span> <span class="st">"Analytical Thinking"</span>, labx <span class="op">=</span> <span class="st">"Year"</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Call:</span></span>
<span><span class="co">#&gt; liwc.analytical_thinking ~ year</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Residuals:</span></span>
<span><span class="co">#&gt;      Min       1Q   Median       3Q      Max </span></span>
<span><span class="co">#&gt; -0.42430 -0.11471  0.00029  0.11643  0.39212 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Coefficients:</span></span>
<span><span class="co">#&gt;              Estimate Std. Error t value Pr(&gt;|t|)</span></span>
<span><span class="co">#&gt; (Intercept)  7.162326   5.386114   1.330    0.185</span></span>
<span><span class="co">#&gt; year        -0.003282   0.002681  -1.224    0.222</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Residual standard error: 0.1612 on 245 degrees of freedom</span></span>
<span><span class="co">#&gt; Multiple R-squared:  0.006082,   Adjusted R-squared:  0.002025 </span></span>
<span><span class="co">#&gt; F-statistic: 1.499 on 1 and 245 DF,  p-value: 0.222</span></span></code></pre></div>
<p><img src="commencement_example_files/figure-html/unnamed-chunk-9-1.svg" width="848.64"></p>
<p>We’ll leave it there for this example, but if changes over time were
of particular interest, we could look for trends in the full set of
categories, or identify and analyze categories based on theory.</p>
<div class="section level3">
<h3 id="language-style-matching">Language Style Matching<a class="anchor" aria-label="anchor" href="#language-style-matching"></a>
</h3>
<p>Another thing we might look at in the language style categories is
language style matching (LSM), which is a measure of similarity based on
these categories.</p>
<p>One thing we might do with this measure is identify stylistically
unusual speeches:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># see how much each speech matches the average of all speeches</span></span>
<span><span class="co">## LIWC function word categories are automatically used if detected</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/miserman/lingmatch" class="external-link">lingmatch</a></span><span class="op">)</span></span>
<span><span class="va">lsm_baseline</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/lingmatch/man/lingmatch.html" class="external-link">lingmatch</a></span><span class="op">(</span><span class="va">speeches</span>, <span class="va">mean</span>, type <span class="op">=</span> <span class="st">"lsm"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># which are the most stylistically unusual speeches?</span></span>
<span><span class="va">most_unusual</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/order.html" class="external-link">order</a></span><span class="op">(</span><span class="va">lsm_baseline</span><span class="op">$</span><span class="va">sim</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">]</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span></span>
<span>  <span class="va">speeches</span><span class="op">[</span><span class="va">most_unusual</span>, <span class="fl">2</span><span class="op">:</span><span class="fl">4</span><span class="op">]</span>,</span>
<span>  LSM_Baseline <span class="op">=</span> <span class="va">lsm_baseline</span><span class="op">$</span><span class="va">sim</span><span class="op">[</span><span class="va">most_unusual</span><span class="op">]</span></span>
<span><span class="op">)</span>, digits <span class="op">=</span> <span class="fl">3</span>, row.names <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="29%">
<col width="48%">
<col width="6%">
<col width="15%">
</colgroup>
<thead><tr class="header">
<th align="left">person</th>
<th align="left">location</th>
<th align="right">year</th>
<th align="right">LSM_Baseline</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Gary Malkowski</td>
<td align="left">Gallaudet University</td>
<td align="right">2011</td>
<td align="right">0.746</td>
</tr>
<tr class="even">
<td align="left">Makoto Fujimura</td>
<td align="left">Belhaven University</td>
<td align="right">2011</td>
<td align="right">0.815</td>
</tr>
<tr class="odd">
<td align="left">Lewis Lapham</td>
<td align="left">St. John’s College</td>
<td align="right">2003</td>
<td align="right">0.829</td>
</tr>
<tr class="even">
<td align="left">Janet Napolitano</td>
<td align="left">Northeastern University</td>
<td align="right">2014</td>
<td align="right">0.848</td>
</tr>
<tr class="odd">
<td align="left">Rev. Joseph L. Levesque</td>
<td align="left">Niagara University</td>
<td align="right">2007</td>
<td align="right">0.851</td>
</tr>
<tr class="even">
<td align="left">Martha Nussbaum</td>
<td align="left">Connecticut College</td>
<td align="right">2009</td>
<td align="right">0.859</td>
</tr>
<tr class="odd">
<td align="left">Stephen R. Kellert</td>
<td align="left">University of Western Sydney, Australia</td>
<td align="right">2013</td>
<td align="right">0.860</td>
</tr>
<tr class="even">
<td align="left">Whoopi Goldberg</td>
<td align="left">Savannah College of Art and Design</td>
<td align="right">2011</td>
<td align="right">0.860</td>
</tr>
<tr class="odd">
<td align="left">Jeffrey Sachs</td>
<td align="left">Connecticut College</td>
<td align="right">2010</td>
<td align="right">0.860</td>
</tr>
<tr class="even">
<td align="left">Wade Davis</td>
<td align="left">Colorado College</td>
<td align="right">2010</td>
<td align="right">0.865</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># what makes these speeches unusual?</span></span>
<span><span class="co">## calculate differences from the average for each category</span></span>
<span><span class="va">category_difference</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sweep.html" class="external-link">sweep</a></span><span class="op">(</span></span>
<span>  <span class="va">lsm_baseline</span><span class="op">$</span><span class="va">processed</span><span class="op">[</span><span class="va">most_unusual</span>, <span class="op">]</span>, <span class="fl">2</span>, <span class="va">lsm_baseline</span><span class="op">$</span><span class="va">comp</span>, <span class="st">"-"</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  <span class="st">"Mean Difference"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/Matrix/man/colSums.html" class="external-link">colMeans</a></span><span class="op">(</span><span class="va">category_difference</span><span class="op">)</span>, check.names <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span>, digits <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left"></th>
<th align="right">Mean Difference</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">ppron</td>
<td align="right">-0.028</td>
</tr>
<tr class="even">
<td align="left">ipron</td>
<td align="right">-0.007</td>
</tr>
<tr class="odd">
<td align="left">article</td>
<td align="right">0.018</td>
</tr>
<tr class="even">
<td align="left">adverb</td>
<td align="right">-0.013</td>
</tr>
<tr class="odd">
<td align="left">conj</td>
<td align="right">-0.002</td>
</tr>
<tr class="even">
<td align="left">prep</td>
<td align="right">0.015</td>
</tr>
<tr class="odd">
<td align="left">auxverb</td>
<td align="right">-0.013</td>
</tr>
<tr class="even">
<td align="left">negate</td>
<td align="right">-0.005</td>
</tr>
<tr class="odd">
<td align="left">quant</td>
<td align="right">-0.002</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># these speeches seem to generally use</span></span>
<span><span class="co"># fewer personal pronouns and more articles in particular</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span></span>
<span>  <span class="va">speeches</span><span class="op">[</span><span class="va">most_unusual</span>, <span class="fl">2</span><span class="op">:</span><span class="fl">4</span><span class="op">]</span>,</span>
<span>  <span class="va">category_difference</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/order.html" class="external-link">order</a></span><span class="op">(</span><span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">abs</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/Matrix/man/colSums.html" class="external-link">colMeans</a></span><span class="op">(</span><span class="va">category_difference</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span></span>
<span><span class="op">)</span>, digits <span class="op">=</span> <span class="fl">3</span>, row.names <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="28%">
<col width="47%">
<col width="5%">
<col width="8%">
<col width="9%">
</colgroup>
<thead><tr class="header">
<th align="left">person</th>
<th align="left">location</th>
<th align="right">year</th>
<th align="right">ppron</th>
<th align="right">article</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Gary Malkowski</td>
<td align="left">Gallaudet University</td>
<td align="right">2011</td>
<td align="right">-0.065</td>
<td align="right">0.007</td>
</tr>
<tr class="even">
<td align="left">Makoto Fujimura</td>
<td align="left">Belhaven University</td>
<td align="right">2011</td>
<td align="right">-0.045</td>
<td align="right">0.042</td>
</tr>
<tr class="odd">
<td align="left">Lewis Lapham</td>
<td align="left">St. John’s College</td>
<td align="right">2003</td>
<td align="right">-0.053</td>
<td align="right">0.045</td>
</tr>
<tr class="even">
<td align="left">Janet Napolitano</td>
<td align="left">Northeastern University</td>
<td align="right">2014</td>
<td align="right">-0.015</td>
<td align="right">0.034</td>
</tr>
<tr class="odd">
<td align="left">Rev. Joseph L. Levesque</td>
<td align="left">Niagara University</td>
<td align="right">2007</td>
<td align="right">0.028</td>
<td align="right">-0.005</td>
</tr>
<tr class="even">
<td align="left">Martha Nussbaum</td>
<td align="left">Connecticut College</td>
<td align="right">2009</td>
<td align="right">-0.053</td>
<td align="right">0.008</td>
</tr>
<tr class="odd">
<td align="left">Stephen R. Kellert</td>
<td align="left">University of Western Sydney, Australia</td>
<td align="right">2013</td>
<td align="right">-0.040</td>
<td align="right">0.005</td>
</tr>
<tr class="even">
<td align="left">Whoopi Goldberg</td>
<td align="left">Savannah College of Art and Design</td>
<td align="right">2011</td>
<td align="right">0.043</td>
<td align="right">-0.022</td>
</tr>
<tr class="odd">
<td align="left">Jeffrey Sachs</td>
<td align="left">Connecticut College</td>
<td align="right">2010</td>
<td align="right">-0.033</td>
<td align="right">0.023</td>
</tr>
<tr class="even">
<td align="left">Wade Davis</td>
<td align="left">Colorado College</td>
<td align="right">2010</td>
<td align="right">-0.044</td>
<td align="right">0.040</td>
</tr>
</tbody>
</table>
<p>Another thing we could look at is stylistic similarity between
speeches:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">lsm_pairwise</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/lingmatch/man/lingmatch.html" class="external-link">lingmatch</a></span><span class="op">(</span><span class="va">speeches</span>, type <span class="op">=</span> <span class="st">"lsm"</span>, symmetrical <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># which speeches are most stylistically similar?</span></span>
<span></span>
<span><span class="co">## set self-matches to 0</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/diag.html" class="external-link">diag</a></span><span class="op">(</span><span class="va">lsm_pairwise</span><span class="op">$</span><span class="va">sim</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fl">0</span></span>
<span></span>
<span><span class="co">## identify the closest match to each speech</span></span>
<span><span class="va">speeches</span><span class="op">$</span><span class="va">match</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/maxCol.html" class="external-link">max.col</a></span><span class="op">(</span><span class="va">lsm_pairwise</span><span class="op">$</span><span class="va">sim</span><span class="op">)</span></span>
<span><span class="va">best_match</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/diag.html" class="external-link">diag</a></span><span class="op">(</span><span class="va">lsm_pairwise</span><span class="op">$</span><span class="va">sim</span><span class="op">[</span>, <span class="va">speeches</span><span class="op">$</span><span class="va">match</span><span class="op">]</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## look at the top matches</span></span>
<span><span class="va">top_matches</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/order.html" class="external-link">order</a></span><span class="op">(</span><span class="op">-</span><span class="va">best_match</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">20</span><span class="op">]</span></span>
<span><span class="va">top_matches</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>a <span class="op">=</span> <span class="va">top_matches</span>, b <span class="op">=</span> <span class="va">speeches</span><span class="op">[</span><span class="va">top_matches</span>, <span class="st">"match"</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="va">top_matches</span> <span class="op">&lt;-</span> <span class="va">top_matches</span><span class="op">[</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/duplicated.html" class="external-link">duplicated</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/apply.html" class="external-link">apply</a></span><span class="op">(</span></span>
<span>  <span class="va">top_matches</span>, <span class="fl">1</span>, <span class="kw">function</span><span class="op">(</span><span class="va">pair</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sort.html" class="external-link">sort</a></span><span class="op">(</span><span class="va">pair</span><span class="op">)</span>, collapse <span class="op">=</span> <span class="st">""</span><span class="op">)</span></span>
<span><span class="op">)</span><span class="op">)</span>, <span class="op">]</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  <span class="va">speeches</span><span class="op">[</span><span class="va">top_matches</span><span class="op">$</span><span class="va">a</span>, <span class="fl">2</span><span class="op">:</span><span class="fl">4</span><span class="op">]</span>,</span>
<span>  Similarity <span class="op">=</span> <span class="va">best_match</span><span class="op">[</span><span class="va">top_matches</span><span class="op">$</span><span class="va">a</span><span class="op">]</span>,</span>
<span>  <span class="va">speeches</span><span class="op">[</span><span class="va">top_matches</span><span class="op">$</span><span class="va">b</span>, <span class="fl">2</span><span class="op">:</span><span class="fl">4</span><span class="op">]</span>,</span>
<span>  check.names <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span>, digits <span class="op">=</span> <span class="fl">3</span>, row.names <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<table style="width:100%;" class="table">
<colgroup>
<col width="14%">
<col width="27%">
<col width="3%">
<col width="8%">
<col width="15%">
<col width="26%">
<col width="3%">
</colgroup>
<thead><tr class="header">
<th align="left">person</th>
<th align="left">location</th>
<th align="right">year</th>
<th align="right">Similarity</th>
<th align="left">person</th>
<th align="left">location</th>
<th align="right">year</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Neil deGrasse Tyson</td>
<td align="left">University of Massachusetts, Amherst</td>
<td align="right">2015</td>
<td align="right">1.000</td>
<td align="left">Neil deGrasse Tyson</td>
<td align="left">University of Massachusetts Amherst</td>
<td align="right">2015</td>
</tr>
<tr class="even">
<td align="left">J.K. Rowling</td>
<td align="left">Harvard University</td>
<td align="right">2008</td>
<td align="right">1.000</td>
<td align="left">JK Rowling</td>
<td align="left">Harvard University</td>
<td align="right">2008</td>
</tr>
<tr class="odd">
<td align="left">Cynthia Enloe</td>
<td align="left">Connecticut College</td>
<td align="right">2011</td>
<td align="right">0.999</td>
<td align="left">Howard Gordon</td>
<td align="left">Connecticut College</td>
<td align="right">2013</td>
</tr>
<tr class="even">
<td align="left">Ellen DeGeneres</td>
<td align="left">Tulane University</td>
<td align="right">2009</td>
<td align="right">0.997</td>
<td align="left">Ellen Degeneres</td>
<td align="left">Tulane University</td>
<td align="right">2009</td>
</tr>
<tr class="odd">
<td align="left">Jonathon Youshaei</td>
<td align="left">Deerfield High School</td>
<td align="right">2009</td>
<td align="right">0.984</td>
<td align="left">Benjamin Carson Jr.</td>
<td align="left">Niagara University</td>
<td align="right">2003</td>
</tr>
<tr class="even">
<td align="left">Sheryl Sandberg</td>
<td align="left">City Colleges of Chicago</td>
<td align="right">2014</td>
<td align="right">0.981</td>
<td align="left">John Legend</td>
<td align="left">University of Pennsylvania</td>
<td align="right">2014</td>
</tr>
<tr class="odd">
<td align="left">Amy Poehler</td>
<td align="left">Harvard University</td>
<td align="right">2011</td>
<td align="right">0.978</td>
<td align="left">Sheryl Sandberg</td>
<td align="left">City Colleges of Chicago</td>
<td align="right">2014</td>
</tr>
<tr class="even">
<td align="left">Drew Houston</td>
<td align="left">Massachusetts Institute of Technology</td>
<td align="right">2013</td>
<td align="right">0.976</td>
<td align="left">Melissa Harris-Perry</td>
<td align="left">Wellesley College</td>
<td align="right">2012</td>
</tr>
<tr class="odd">
<td align="left">Mindy Kaling</td>
<td align="left">Harvard Law School</td>
<td align="right">2014</td>
<td align="right">0.975</td>
<td align="left">Stephen Colbert</td>
<td align="left">Wake Forest University</td>
<td align="right">2015</td>
</tr>
<tr class="even">
<td align="left">Arianna Huffington</td>
<td align="left">Vassar College</td>
<td align="right">2015</td>
<td align="right">0.975</td>
<td align="left">Tim Cook</td>
<td align="left">Auburn University</td>
<td align="right">2010</td>
</tr>
<tr class="odd">
<td align="left">Elias A. Zerhouni</td>
<td align="left">Massachusetts Institute of Technology</td>
<td align="right">2004</td>
<td align="right">0.974</td>
<td align="left">Benjamin Carson Jr.</td>
<td align="left">Niagara University</td>
<td align="right">2003</td>
</tr>
</tbody>
</table>
<p>The most obvious thing this flags is duplicated texts that aren’t
strictly identical.</p>
<p>None of our texts are exactly identical:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/duplicated.html" class="external-link">anyDuplicated</a></span><span class="op">(</span><span class="va">speeches</span><span class="op">$</span><span class="va">text_to_score</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 0</span></span></code></pre></div>
<p>And no entries are duplicated based on a name-location-year ID:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/duplicated.html" class="external-link">anyDuplicated</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/do.call.html" class="external-link">do.call</a></span><span class="op">(</span><span class="va">paste</span>, <span class="va">speeches</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"person"</span>, <span class="st">"location"</span>, <span class="st">"year"</span><span class="op">)</span><span class="op">]</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 0</span></span></code></pre></div>
<p>But from LSM we can see that at least a few of the most similar
speech pairs are actually identical.</p>
<p>The third most similar set is not so obvious since they are
apparently by different speakers at different times, so we might take a
look at the actual texts:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">vapply</a></span><span class="op">(</span></span>
<span>  <span class="va">speeches</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">top_matches</span><span class="op">[</span><span class="fl">3</span>, <span class="op">]</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span><span class="op">:</span><span class="fl">4</span>, <span class="fl">1</span><span class="op">)</span><span class="op">]</span>,</span>
<span>  <span class="va">substr</span>, <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="fl">2</span><span class="op">)</span>, <span class="fl">1</span>, <span class="fl">99</span></span>
<span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="10%">
<col width="14%">
<col width="3%">
<col width="71%">
</colgroup>
<thead><tr class="header">
<th align="left">person</th>
<th align="left">location</th>
<th align="left">year</th>
<th align="left">text_to_score</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Cynthia Enloe</td>
<td align="left">Connecticut College</td>
<td align="left">2011</td>
<td align="left">I am deeply honored to be here with you all. I bring
you special greetings from the Class of 1960.</td>
</tr>
<tr class="even">
<td align="left">Howard Gordon</td>
<td align="left">Connecticut College</td>
<td align="left">2013</td>
<td align="left">I am deeply honored to be here with you all. I bring
you special greetings from the Class of 1960.</td>
</tr>
</tbody>
</table>
<p>This is probably just an issue with the data, but maybe these people
gave the same speech.</p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Receptiviti Inc., Kent English, Micah Iserman.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
